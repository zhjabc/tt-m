"use strict";(self["webpackChunktoutiao_m"]=self["webpackChunktoutiao_m"]||[]).push([[438],{6744:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var o=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"黑马头条-登录"}}),t("div",[t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"mobile",label:"手机号",placeholder:"手机号",required:"",rules:[{required:!0,message:"请填写正确的手机号",pattern:/^1[3-9]\d{9}$/}]},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),t("van-field",{attrs:{type:"password",name:"code",label:"密码",placeholder:"密码",required:"",rules:[{required:!0,message:"请填写密码",pattern:/^\d{6}$/}]},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",disabled:e.isLoading,loading:e.isLoading,"loading-text":"登录中"}},[e._v("登录 ")])],1)],1)],1)],1)},s=[],r=a(586),n=a(9762),i=a(3505),l=a(7247),u={data(){return{user:{mobile:"13362758598",code:"246810"},isLoading:!1}},methods:{async onSubmit(e){this.isLoading=!0;try{const t=await(0,r.UO)(e);console.log(t),(0,n.Z)({type:"success",message:"登录成功"}),(0,i.o4)(t.data.data.token),(0,l.po)("refresh_token",t.data.data.refresh_token),console.log(this.$store.state.errUrl),this.$router.replace({path:this.$route.query.path||"layout/home"})}catch(t){(0,n.Z)({type:"danger",message:"账号或密码错误"})}this.isLoading=!1}}},d=u,c=a(1001),m=(0,c.Z)(d,o,s,!1,null,"3380467d",null),p=m.exports},7247:function(e,t,a){a.d(t,{cF:function(){return s},po:function(){return o}});const o=(e,t)=>{localStorage.setItem(e,t)},s=e=>localStorage.getItem(e)}}]);
//# sourceMappingURL=Login.9b30c847.js.map